(self.miniJsonp=self.miniJsonp||[]).push([[1493],{96296:function(e,t,n){var r,o,a;e.exports=(r=n(14906),o=n(58518),a=n(69483),function(){"use strict";var e={95:function(e,t,n){n.d(t,{D:function(){return u},t:function(){return _}});var r=n(661),o=n.n(r),a=n(480),i=!1,c=function(e,t){i=!0;var n=t||(0,a.CE)();o().init({lng:n,fallbackLng:n,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common";i||c({resources:{}},e),o().changeLanguage(e),o().addResourceBundle(e,n,t,!0,!0)},_=o().t.bind(o())},480:function(e,t,n){n.d(t,{$S:function(){return R},CE:function(){return x},E3:function(){return C},H9:function(){return E},IE:function(){return L},JS:function(){return d},Jy:function(){return N},L6:function(){return Y},NJ:function(){return m},S1:function(){return u},Tb:function(){return I},Vm:function(){return P},X7:function(){return w},Y8:function(){return v},YH:function(){return b},Yc:function(){return l},dV:function(){return G},ef:function(){return T},jz:function(){return F},pM:function(){return S},qk:function(){return M},u7:function(){return A},xC:function(){return D},z$:function(){return p}});var r,o,a,i,c={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},u=function(e,t,n){r=e.toLowerCase(),o="liveish"===t?"live-test":"stable"===t?"test-stable":t,a=n,i=c[r]||"en"},_=["my","br","mx","co","ar"],s=["id","th"],f=["us"],l=function(e){return _.includes(e)?"com.".concat(e):s.includes(e)?"co.".concat(e):f.includes(e)?"com":e},E=function(e){return"tw"===e?"xiapi":e.toLowerCase()},d=function(e){return l(e)},T=function(){return"live"===o?"":"".concat(o,".")},S=function(){return"live"===o?"shopee":"".concat(o,".shopee")},p=function(){return"cn"===r},v=function(){return"kr"===r};function g(){return m()&&!p()}function m(){var e=window.location.hostname;return e&&e.includes("cn")}var O=function(e,t){return"seller"===e?"vn"!==t||g()?"seller":"banhang":e},h=function(e,t){var n,a=t?t.toLowerCase():r;return g()?function(e,t){var n=t?t.toLowerCase():r;return"".concat(O(e,n),".").concat(E(n),".").concat(S(),".").concat("cn")}(e,a):"".concat(O(e,a),".").concat((n=window.location.hostname,n&&n.includes("shopeebrasil")?"live"===o?"shopeebrasil":"".concat(o,".shopeebrasil"):S()),".").concat(d(a))},M=function(e){return h("seller",e)},R=function(e){var t=e?e.toLowerCase():r;return"seller-service.cs.".concat(S(),".").concat(d(t))},P=function(){return"".concat(M(),"/webchat/api")},C=function(){return"".concat(M(),"/api")},A=function(e){var t=e?e.toLowerCase():r;return"cn"!==t&&"kr"!==t||(t="my"),m()?"".concat(E(t),".").concat(T()).concat("xiapibuy.com"):"".concat(S(),".").concat(d(t))},I=function(){var e=r;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(S(),".").concat(d(e))},y=["sg","my","th","ph","vn","id","tw","br"],N=function(e){var t=e?e.toLowerCase():r;if(p())return"https://s-cf-sg.shopeesz.com/file/";if(v())return"https://cf.shopee.sg/file/";var n=y.includes(t);return g()&&n?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(l(t),"/file/")},G=function(e){var t=e?e.toLowerCase():r;return"tw"===t&&m()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(l(t),"/file/")},D=function(){return"https://".concat(h("seller"),"/webchat/conversations")},b=function(){return"https://".concat(h("seller"),"/webchat")},L=function(){return o},w=function(){return r},Y=function(){return a},x=function(){return i},F=function(){return m()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"}},602:function(e){e.exports=r},661:function(e){e.exports=o},349:function(e){e.exports=a}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){n.r(i),n.d(i,{AccountType:function(){return y},AlertType:function(){return D},ChatbotFromType:function(){return R},ConversationSource:function(){return P},ConversationTypeEnum:function(){return S},CustomShareEvent:function(){return k},DataFetchStatus:function(){return v},LS:function(){return Ye},MAX_MEDIA_NUM:function(){return a},MAX_Z_INDEX:function(){return B},MINI_MIN_TEXT_BOX_HEIGHT:function(){return s},MessageErrorCode:function(){return o},MessageOption:function(){return e},MessageSendStatus:function(){return r},MessageShortcutGroupType:function(){return c},MessageSource:function(){return C},MessageTypes:function(){return t},OfferStatus:function(){return h},OperationStatus:function(){return g},ReturnCardStatus:function(){return u},ReturnSolution:function(){return _},ShareDataType:function(){return H},SocketConnectionStatus:function(){return M},SocketToAlertType:function(){return b},StartChatErrorCode:function(){return G},StorageKey:function(){return U},SubAccountRole:function(){return I},SwitchStatus:function(){return m},TrackerOperation:function(){return N},TranslationStatus:function(){return O},UnreadSource:function(){return A},capitalizeFirstLetter:function(){return Me},changeLanguage:function(){return en.D},checkEmptyObject:function(){return Q},checkMiniUnrepliedGuide:function(){return be},cnDomainHash:function(){return Qt.H9},compareSameDayOfTimestamp:function(){return ae},customizeTime:function(){return te},debounce:function(){return ye},defaultLocalInMall:function(){return x},detectTextAndTimestamp:function(){return $t},domainHash:function(){return Qt.Yc},domainPrefix:function(){return Qt.pM},domainSuffix:function(){return Qt.JS},envPrefix:function(){return Qt.ef},escapeRegex:function(){return Vt},fillMessagePreview:function(){return Ht},formatMessageTime:function(){return oe},formatTransifyKeyWithNumber:function(){return Se},getApiServer:function(){return Qt.Vm},getCDNUrl:function(){return Qt.jz},getChatBotParams:function(){return Ft},getCrmPreviewParams:function(){return Ut},getCurrentTimestampString:function(){return qt},getCustomMessageText:function(){return It},getFileServer:function(){return Qt.Jy},getFormattedTime:function(){return re},getHasSameSourceAndTarget:function(){return xt},getItem:function(){return xe},getLocaleText:function(){return Yt},getMallUrl:function(){return Qt.u7},getMallUrlIgnoreCn:function(){return Qt.Tb},getMessageIsSend:function(){return jt},getRRMessageTitle:function(){return Bt},getRuntimeLocale:function(){return Qt.CE},getRuntimeRegion:function(){return Qt.X7},getRuntimeServer:function(){return Qt.IE},getRuntimeVersion:function(){return Qt.L6},getSCApiServer:function(){return Qt.E3},getSellerCenterUrl:function(){return Qt.qk},getSellerServiceUrl:function(){return Qt.$S},getServiceLocale:function(){return Ie},getSystemMessageByLocale:function(){return kt},getTranslatedText:function(){return Zt},getTranslationLocale:function(){return Ce},getUrlParam:function(){return pe},getVideoServer:function(){return Qt.dV},getWebChatPureUrl:function(){return Qt.YH},getWebChatUrl:function(){return Qt.xC},greaterThan:function(){return V},handleDisplayTranslation:function(){return Wt},hasTargetMessageOption:function(){return Lt},init:function(){return Qt.S1},isDeletedMessage:function(){return wt},isVisitingCNSC:function(){return Qt.z$},isVisitingCn:function(){return Qt.NJ},isVisitingKRSC:function(){return Qt.Y8},localeInMallToTspLocale:function(){return F},newFormatMessageTime:function(){return ce},persistLimit:function(){return ke},previewMessage:function(){return bt},removeItem:function(){return Ue},setItem:function(){return Fe},simpleEqualCheck:function(){return j},throttle:function(){return Ne},unifyLocale:function(){return Pe},updateTimeLocale:function(){return X}});var e,t={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate"},r={SENDING:1,FAILED:2,SUCCEED:3},o={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,DEFAULT:-1},a=9,c={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var u,_,s=88;function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function l(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function E(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(u||(u={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(_||(_={}));var S,p={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},v=T(T({},p),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),g=T(T({},p),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),m={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},O={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},h={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},M={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(S||(S={}));var R,P={SYNC:4},C={SEND:7},A={PRELOAD:1},I={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},y={SELLER:"seller",SUBACCOUNT:"subaccount"},N={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(R||(R={}));var G,D={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},b={pending:D.warn,error:D.error,resolved:D.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(G||(G={}));var L,w,Y,x={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},F={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},U={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},k={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},H={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},B=199999,Q=function(e){return!e||0===Object.keys(e).length},j=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},V=function(e,t){if(!e)return!1;if(!t)return!0;var n=(e+="").length,r=(t+="").length;if(n!==r)return n>r;var o=e.split(""),a=null;return o.forEach((function(e,n){"boolean"!=typeof a&&(a=parseInt(e)>parseInt(t[n])||parseInt(e)===parseInt(t[n])&&null)})),!!a},q=n(602),W=n.n(q),z=n(95).t,K=new(W()),X=function(e){return K.locale.set(e)},J=function(e){return e.format("hh:mm")};!function(e){e.Today="today",e.Yesterday="yesterday"}(L||(L={})),function(e){e[e.Time=0]="Time"}(w||(w={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(Y||(Y={}));var $,Z=function(e){var t=e.value,n=e.date,r=e.suffix,o=e.prefix,a="",i="";if(o&&(a=z("conversation_detail.message_list.".concat(o.type))+(void 0===o.separator?"  ":o.separator)),r){var c=r.type===w.Time?J(n):"";i=(void 0===r.separator?", ":r.separator)+c}return a+t+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}($||($={}));var ee=864e5,te=function(e,t){var n=t||{},r=n.noTodayFlag,o=n.noTimeFlag,a=n.needFullFormat,i=n.onlyKeepDate,c=n.isConvPreview,u=K.create(e);if(a)return Z({value:u.format("LHD"),date:u,suffix:{type:w.Time}});if(i)return u.format("LHD");var _=["tw","cn"].includes(K.locale.current),s=function(e,t){var n=new Date,r=new Date(e);if(t){var o=n-r,a=(new Date).setHours(0,0,0,0);if(o<=6048e5&&o>=ee+(n.getTime()-a))return $.ThisWeek}if(n.getFullYear()===r.getFullYear()){if(n.getMonth()===r.getMonth()){var i=n.getDate(),c=r.getDate();return i===c?$.Today:i-1===c?$.Yesterday:$.ThisMonth}return $.ThisYear}return $.NONE}(e,c);switch(s){case $.Today:var f=r?void 0:{type:L.Today},l={type:w.Time,separator:""};return Z({value:"",date:u,prefix:f,suffix:l});case $.Yesterday:var E={type:L.Yesterday},d=o?void 0:{type:w.Time,separator:""};return Z({value:"",date:u,prefix:E,suffix:d});case $.ThisWeek:return z("common.".concat(Y[new Date(e).getDay()]));case $.ThisMonth:case $.ThisYear:var T=o?void 0:{type:w.Time};return Z({value:u.format(c?_?"MM/DD":"DD/MM":"LHDS"),date:u,suffix:T});default:var S=o?void 0:{type:w.Time};return Z({value:u.format(c?_?"YY/MM/DD":"DD/MM/YY":"LHD"),date:u,suffix:S})}},ne="YYYY-MM-DD hh:mm",re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return K.create(e).format(t||ne)},oe=function(e){var t=e.created_at,n=e.created_timestamp;return te(t||1e3*n,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},ae=function(e,t){return K.create(e).format("LHD")===K.create(t).format("LHD")},ie={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},ce=function(e,t){var n=1e3*e;switch(t){case"time":var r=K.create(n);return J(r);case"date":var o=new Date,a=new Date(n);if(o.getFullYear()===a.getFullYear()){if(o.getMonth()===a.getMonth()){var i=o.getDate(),c=a.getDate();if(i===c)return z("conversation_detail.message_list.today");if(i-1===c)return z("conversation_detail.message_list.yesterday");if(i-c<7){var u=a.getDay();return z("common.".concat(ie[u]))}return K.create(n).format("LHDS")}return K.create(n).format("LHDS")}return K.create(n).format("LHD")}},ue=n(661),_e=n.n(ue),se=function(e){return 0===e||1===e?"one":e>=1e6?"many":"other"},fe=function(e){return 1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other"},le=function(e){return e<=1?"one":"other"},Ee={fr:se,pl:fe,default:le},de={fr:function(e,t){return"".concat(se(e),".").concat(se(t))},pl:function(e,t){return"".concat(fe(e),".").concat(fe(t))},default:function(e,t){return"".concat(le(e),"_").concat(le(t))}},Te=["fr","pl"],Se=function(e,t,n){var r=_e().language||"en",o=Te.includes(r)?r:"default";return void 0!==n?"".concat(e,"_").concat(de[o](t,n)):"".concat(e,"_").concat(Ee[o](t))},pe=function(e,t){var n=t||window.location.search,r=null;if(n){var o=n.indexOf("?")+1,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");r=n.substr(o).match(a)}return r?unescape(r[2]):null};function ve(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ge(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var me,Oe=["hans","hant"],he=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],Me=function(e){return"".concat(e[0].toUpperCase()).concat(e.substring(1))},Re=function(e){if(e.includes("-")){var t=e.split("-");return Oe.includes(t[1])?"".concat(t[0],"-").concat(Me(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},Pe=function(e){var t,n=(e||"en").toLowerCase(),r="en",o=ve(he);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(a.includes(n)){r=Re(a);break}}}catch(e){o.e(e)}finally{o.f()}return r},Ce=function(e){var t=Pe(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},Ae={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},Ie=function(e){var t=Pe(e);return Ae[t]||"default"},ye=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=Date.now();return function(){for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];t&&(clearTimeout(t),t=null),Date.now()-o>r?(e.apply(void 0,i),o=Date.now()):t=window.setTimeout((function(){e.apply(void 0,i),o=Date.now()}),n)}},Ne=function(e,t){var n,r,o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null,c=0,u=function(){c=!1===a.leading?0:(new Date).getTime(),i=null,o=e.apply(n,r),i||(n=r=null)},_=function(){var _=(new Date).getTime();c||!1!==a.leading||(c=_);var s=t-(_-c);n=this;for(var f=arguments.length,l=new Array(f),E=0;E<f;E++)l[E]=arguments[E];return r=l,s<=0||s>t?(i&&(clearTimeout(i),i=null),c=_,o=e.apply(n,r),i||(n=r=null)):i||!1===a.trailing||(i=window.setTimeout(u,s)),o};return _},Ge="MiniChat-Unreplied-Filter",De="modal",be=function(e){return function(e,t){var n=t.superType,r=t.secondaryType,o=e.find((function(e){return e.name===n}));if(o){var a=o.children;return a.length&&a.find((function(e){return e.name===r}))||!1}return!1}(e,{superType:Ge,secondaryType:De})},Le=n(349),we=n.n(Le),Ye={getItem:function(e,t){try{var n=window.localStorage.getItem(e);return null==n?n:t?JSON.parse(n):n}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:function(e,t,n){try{var r=n?JSON.stringify(t):t;window.localStorage.setItem(e,r)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:function(e){try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},xe=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Ye.getItem(e):we().getItem(e)},Fe=function(e,t){return we().setItem(e,t)},Ue=function(e,t){return t?Ye.removeItem(e):we().removeItem(e)},ke=we().supports(we().INDEXEDDB)||we().supports(we().WEBSQL)?1e3:100,He=n(95).t;function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=t.MSG_TYPE_TEXT,Ve=t.MSG_TYPE_IMAGE,qe=t.MSG_TYPE_OFFER,We=t.MSG_TYPE_PRODUCT,ze=t.MSG_TYPE_ORDER,Ke=t.MSG_TYPE_STICKER,Xe=t.MSG_TYPE_NOTIFICATION,Je=t.MSG_TYPE_VOUCHER,$e=t.MSG_TYPE_ITEM_LIST,Ze=t.MSG_TYPE_FAQ,et=t.MSG_TYPE_FAQ_QUESTION,tt=t.MSG_TYPE_FAQ_LIVEAGENT,nt=t.MSG_TYPE_FAQ_FEEDBACK,rt=t.MSG_TYPE_FAQ_UNSUPPORTED,ot=t.MSG_TYPE_FAQ_FEEDBACK_PROMPT,at=t.MSG_TYPE_FAQ_LIVEAGENT_PROMPT,it=t.MSG_TYPE_BUNDLE_MESSAGE,ct=t.MSG_TYPE_OPTION_PACK,ut=t.MSG_TYPE_SELECTED_OPTION,_t=t.MSG_TYPE_VIDEO,st=t.MSG_TYPE_IMAGE_WITH_TEXT,ft=t.MSG_TYPE_RATE_CARD,lt=t.MSG_TYPE_NEW_FAQ,Et=t.MSG_TYPE_FAQ_CATEGORY_CHOICE,dt=t.MSG_TYPE_FAQ_QUESTION_LIST,Tt=t.MSG_TYPE_FAQ_TYPE_CHOICE,St=t.MSG_TYPE_FAQ_CATEGORY_LIST,pt=t.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE,vt=t.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE,gt=t.FAQ_TYPE_BOT_RESPONSE_MESSAGE,mt=t.MSG_TYPE_SHOPPING_CART,Ot=t.MSG_TYPE_CRM_ITEM_LIST,ht=t.MSG_TYPE_RR,Mt=t.MSG_TYPE_CRM_ORDER_RATE,Rt=h.PENDING,Pt=h.REJECTED,Ct="common.unsupported_message",At=(E(me={},tt,"faq.live_agent"),E(me,rt,"faq.new_unsupport_input"),E(me,ot,"faq.feedback_prompt"),E(me,at,"faq.new_live_agent_prompt"),E(me,_t,"conversation_detail.input_field.toolbar.video.tip"),E(me,st,"conversation_list.conversation_cell.new_image_message"),me),It=function(e){return He(At[e]||Ct)},yt=[$e],Nt=[_t,rt,ot,at,st],Gt=[Ve,it,vt,qe,We,ze,Je,ft,Ke],Dt=[dt,Tt,St],bt=function(t){var n=t.message,r=t.enableTranslation,o=t.locale,a=t.conversationShopId,i=t.currentSellerAccountId;if(!n)return{text:He(Ct)};var c=n.type,u=n.content,_=void 0===u?{}:u,s=n.crm_message_preview,f=void 0===s?{}:s,l=n.message_option,E=n.source,d=n.send_status,T=n.custom_preview_text,S=Ce(o);if(f.text)return{text:Zt(f,S)};if(null!=_&&_.preview_text&&c===gt)return{text:_.preview_text};if(Lt(l,e.MSG_OPT_CENSORED_BLACKLIST))return{text:He("common.blacklist.replaced_text")};if(c){var p,v,g=_||{},m=g.text,O=void 0===m?"":m,h=g.title,M=g.opening,R=g.caption,P=g.translation,C=g.product_name,A=g.sticker_name,I=g.chat_product_infos,y=void 0===I?[]:I,N=g.products,G=void 0===N?[]:N,D=g.rr_detail,b=g.user_id,L=jt(n,{isAgent:!1,shop_id:a}),w=function(e,t,n,r){var o,a=t||{},i=a.live_agent_text,c=void 0===i?[]:i,u=a.fixed_title,_=a.faq_type_choice_translation;if(Nt.includes(e))o=c.length?Yt(c,n):It(e);else if(Dt.includes(e))o=Yt(e===Tt?_:u,n);else{var s=Gt.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):yt.includes(e)?"common.tips.recommended".concat(r?"":"_for_you"):"";o=s?"[".concat(He(s),"]"):He(Ct)}return o}(c,_,o,L);switch(c){case lt:case Ze:v=M||He("faq.no_set.chat_bot_title");break;case je:if(L)v=O;else{var Y=xt(_);v=!r||Y||l===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(E)||2===d?O:(null==P?void 0:P.text)||O}break;case tt:case et:case nt:case ut:case ct:case Et:case pt:v=O||h;break;case _t:v="[".concat(w,"]");break;case st:v="[".concat(w,"] ").concat(R||h||O);break;case rt:case ot:case at:case dt:case Tt:case St:v=w;break;case We:v="".concat(w," ").concat(C);break;case Ke:v=A?"[".concat(A,"]"):w;break;case $e:var x=y.map((function(e){return e.name})).join("; ");v="".concat(w," ").concat(x);break;case Xe:var F=kt(_||{},o),U=F.notification_for_sender,k=F.notification_for_receiver,H=F.notifications_for_sender_hyperlink,B=F.notifications_for_receiver_hyperlink;v="rr_entrance"===_.notification_type?L?H:B:L?U:k;break;case ft:v="".concat(w," ").concat(He(L?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case qe:var Q=_||{},j=Q.status,V=Q.products_count,q=Q.offer_price;if(j)if(j===Rt){var W=He("conversation_list.preview.offer_pending_".concat(L?"sender":"receiver"));v="".concat(w," ").concat(W,": ").concat(q," x ").concat(V),L||(p=!0)}else{var z=j===Pt?"declined":j;v="".concat(w," ").concat(He("conversation_detail.workstation.offer_panel.".concat(z)))}else v=w;break;case ze:v="".concat(w," ").concat(G.map((function(e){return e.title})).join("; "));break;case Je:var K=_||{},X=K.type,J=K.rule_text,$=K.discount_text;if(X){var Z="[".concat(He("conversation_detail.workstation.voucher_panel.".concat(X,"_voucher")),"]");v="".concat(Z," ").concat($,", ").concat(J)}else v=w;break;case mt:v=He("message.cart_reminder");break;case Ot:var ee,te,ne,re=null!==(ee=null==_?void 0:_.title)&&void 0!==ee?ee:{};v=(null===(te=re.translated_with_lang)||void 0===te||null===(ne=te.find((function(e){return e.language===Ce(o)})))||void 0===ne?void 0:ne.text)||re.text||He(Ct);break;case ht:var oe=D.solution,ae=D.status,ie=Bt({isBuyer:i===b,solution:oe,status:ae});v="[".concat(He("label.return_and_refund"),"]").concat(ie);break;case Mt:var ce,ue;v=(null==T||null===(ce=T.translated_text)||void 0===ce||null===(ue=ce.find((function(e){return e.translated_language===Ce(o)})))||void 0===ue?void 0:ue.translated_text)||(null==T?void 0:T.text)||He(Ct),v=Zt(T,S)||He(Ct);break;default:v=w}return{text:v,isPendingReceivedOffer:p}}return{text:He(Ct)}},Lt=function(e,t){return(e&t)===t},wt=function(){return Lt((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message_option,e.MSG_OPT_DELETE)},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=e.find((function(e){return Ce(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())}))||e.find((function(e){return"en"===e.lang}));return(n||{}).text},xt=function(e){var t=e||{},n=t.translation,r=t.mid;if(!n)return!0;var o=(void 0===r?{}:r).source_language,a=void 0===o?"":o,i=n||{},c=i.final,u=i.mid,_=i.target_language,s=void 0===_?"":_,f=i.source_language,l=void 0===f?"":f,E=c?c.target_language:s,d=c?c.source_language:l,T=u?u.source_language:a;return T?T===E:d===E&&"unknown"!==d},Ft=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.updateMaxGeneralOptionHideTime,r=void 0===n||n,o=t.updateMessageOption,a=void 0===o||o,i=e||{},c=i.created_timestamp,u=i.message_option,_=a?{last_message_option:u}:{};return Qe(Qe({},r?{max_general_option_hide_time:c}:{}),_)},Ut=function(e){var t=e.crm_message_preview,n=void 0===t?{}:t;return n.text?{crm_message_preview:n}:{crm_message_preview:{}}},kt=function(e,t){var n=e.noti_text_of_all_languages,r=void 0===n?[]:n;if(!r.length)return e;var o=r.find((function(e){return Ce(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())}));if(o)return o;var a=r.find((function(e){return"en"===e.language}));return a||e},Ht=function(e){var t=e.type,n=e.textContent,r=e.content,o={};switch(t){case ze:o={products:(n||{}).products};break;case Je:var a=n||{};o={rule_text:a.rule_text,discount_text:a.discount_text,type:a.type};break;case qe:var i=n||{};o={status:i.status,products_count:i.products_count,offer_price:i.offer_price};break;case We:o={product_name:r.product_name||(null==n?void 0:n.name)}}return Qe(Qe({},e),{},{content:Qe(Qe({},r),o)})},Bt=function(e){var t=e.isBuyer,n=e.status,r=e.solution===_.Return?"return":"return_refund",o=n===u.Submit?"proposed":n===u.Refund?"succeed":"rejected";return He("rr_message_title.".concat(t?"buyer":"seller",".").concat(r,".").concat(o))},Qt=n(480),jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isAgent,r=t.to_tob_user_id,o=t.shop_id,a=e.from_id,i=e.to_shop_id;return n?a!==r:i!==o},Vt=function(e){return e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&")},qt=function(){return Math.ceil(Date.now()/1e3).toString()},Wt=function(e,t,n,r){return t?e:e||r&&!!n},zt=function(e){return"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px")},Kt=function(e){var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},Xt=function(e,t,n){var r=document.createElement("pre"),o=zt(e);if(r.id="chat-text-pre",r.setAttribute("style",o),r.innerText=t,n){var a=Kt(n);r.appendChild(a)}return r},Jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"height";document.body.appendChild(e);var n=e.getBoundingClientRect(),r="height"===t?n.height:n.width;return document.body.removeChild(e),r},$t=function(e,t,n){var r=Xt(n,e),o=Kt(t),a=Xt(n,e,t),i=Jt(r);return{conflict:i!==Jt(a),multiLine:i>38,timeWidth:Jt(o,"width"),widthConflict:Jt(a,"width")>Jt(r,"width")}},Zt=function(e,t){var n,r,o,a;return(null==e||null===(n=e.translated_with_lang)||void 0===n||null===(r=n.find((function(e){return e.language===t})))||void 0===r?void 0:r.text)||(null==e||null===(o=e.translated_text)||void 0===o||null===(a=o.find((function(e){return e.translated_language===t})))||void 0===a?void 0:a.translated_text)||(null==e?void 0:e.text)||""},en=n(95)}(),i}())},29494:function(e,t,n){"use strict";e.exports=n(96296)}}]);