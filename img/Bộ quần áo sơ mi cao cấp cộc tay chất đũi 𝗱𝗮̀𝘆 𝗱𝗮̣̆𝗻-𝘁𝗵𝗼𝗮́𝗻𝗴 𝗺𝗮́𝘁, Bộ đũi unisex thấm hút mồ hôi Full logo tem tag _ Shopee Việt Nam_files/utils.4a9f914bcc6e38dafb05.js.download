(self.miniJsonp=self.miniJsonp||[]).push([[1493],{66069:function(e,t,r){var a;a=(e,t,r)=>(()=>{"use strict";var a={95:(e,t,r)=>{r.d(t,{D:()=>_,t:()=>c});var a=r(661),n=r.n(a),o=r(480),i=!1,_=(e,t,r="common")=>{i||((e,t)=>{i=!0;var r=t||(0,o.CE)();n().init({lng:r,fallbackLng:r,defaultNS:"common",keySeparator:!1,debug:!1,resources:e&&e.resources||{},interpolation:{prefix:"{",suffix:"}",escapeValue:!1},react:{wait:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",nsMode:"default"}})})({resources:{}},e),n().changeLanguage(e),n().addResourceBundle(e,r,t,!0,!0)},c=n().t.bind(n())},480:(e,t,r)=>{r.d(t,{$S:()=>P,CE:()=>x,E3:()=>C,H9:()=>T,IE:()=>b,JS:()=>d,Jy:()=>G,L6:()=>Y,NJ:()=>g,S1:()=>c,Tb:()=>A,Vm:()=>h,X7:()=>w,Y8:()=>O,YH:()=>L,Yc:()=>u,dV:()=>y,ef:()=>S,jz:()=>F,pM:()=>p,qk:()=>R,u7:()=>I,xC:()=>D,z$:()=>f});var a,n,o,i,_={sg:"en",ph:"en",tw:"zh-Hant",my:"ms-MY",th:"th-TH",vn:"vi-VN",id:"id-ID",br:"pt-BR",in:"hi",cn:"zh-CN",mx:"es-MX",co:"es-CO",cl:"es-CL",ar:"es-AR",pl:"pl",es:"es-ES",fr:"fr",us:"en",kr:"en"},c=(e,t,r)=>{a=e.toLowerCase(),n="liveish"===t?"live-test":"stable"===t?"test-stable":t,o=r,i=_[a]||"en"},s=["my","br","mx","co","ar"],l=["id","th"],E=["us"],u=e=>s.includes(e)?"com.".concat(e):l.includes(e)?"co.".concat(e):E.includes(e)?"com":e,T=e=>"tw"===e?"xiapi":e.toLowerCase(),d=e=>u(e),S=()=>"live"===n?"":"".concat(n,"."),p=()=>"live"===n?"shopee":"".concat(n,".shopee"),f=()=>"cn"===a,O=()=>"kr"===a;function m(){return g()&&!f()}function g(){var e=window.location.hostname;return e&&e.includes("cn")}var v=(e,t)=>"seller"===e?"vn"!==t||m()?"seller":"banhang":e,M=(e,t)=>{var r,o=t?t.toLowerCase():a;return m()?((e,t)=>{var r=t?t.toLowerCase():a;return"".concat(v(e,r),".").concat(T(r),".").concat(p(),".").concat("cn")})(e,o):"".concat(v(e,o),".").concat((r=window.location.hostname,r&&r.includes("shopeebrasil")?"live"===n?"shopeebrasil":"".concat(n,".shopeebrasil"):p()),".").concat(d(o))},R=e=>M("seller",e),P=e=>{var t=e?e.toLowerCase():a;return"seller-service.cs.".concat(p(),".").concat(d(t))},h=()=>"".concat(R(),"/webchat/api"),C=()=>"".concat(R(),"/api"),I=e=>{var t=e?e.toLowerCase():a;return"cn"!==t&&"kr"!==t||(t="my"),g()?"".concat(T(t),".").concat(S()).concat("xiapibuy.com"):"".concat(p(),".").concat(d(t))},A=()=>{var e=a;return"cn"!==e&&"kr"!==e||(e="my"),"".concat(p(),".").concat(d(e))},N=["sg","my","th","ph","vn","id","tw","br"],G=e=>{var t=e?e.toLowerCase():a;if(f())return"https://s-cf-sg.shopeesz.com/file/";if(O())return"https://cf.shopee.sg/file/";var r=N.includes(t);return m()&&r?"https://s-cf-".concat(t,".shopeesz.com/file/"):"https://cf.shopee.".concat(u(t),"/file/")},y=e=>{var t=e?e.toLowerCase():a;return"tw"===t&&g()?"https://cvf.shopee.cn/file/":"https://cvf.shopee.".concat(u(t),"/file/")},D=()=>"https://".concat(M("seller"),"/webchat/conversations"),L=()=>"https://".concat(M("seller"),"/webchat"),b=()=>n,w=()=>a,Y=()=>o,x=()=>i,F=()=>g()?"https://deo.shopeesz.com/shopee/":"https://deo.shopeemobile.com/shopee/"},602:t=>{t.exports=e},661:e=>{e.exports=t},349:e=>{e.exports=r}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return a[e](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{o.r(i),o.d(i,{AccountType:()=>A,AlertType:()=>y,ChatbotFromType:()=>R,ConversationSource:()=>P,ConversationTypeEnum:()=>S,CustomShareEvent:()=>U,DataFetchStatus:()=>f,LS:()=>Ae,MAX_MEDIA_NUM:()=>n,MAX_Z_INDEX:()=>H,MINI_MIN_TEXT_BOX_HEIGHT:()=>l,MessageErrorCode:()=>a,MessageOption:()=>e,MessageSendStatus:()=>r,MessageShortcutGroupType:()=>_,MessageSource:()=>h,MessageTypes:()=>t,OfferStatus:()=>v,OperationStatus:()=>O,ReturnCardStatus:()=>c,ReturnSolution:()=>s,ShareDataType:()=>k,SocketConnectionStatus:()=>M,SocketToAlertType:()=>D,StartChatErrorCode:()=>G,StorageKey:()=>F,SubAccountRole:()=>I,SwitchStatus:()=>m,TrackerOperation:()=>N,TranslationStatus:()=>g,UnreadSource:()=>C,capitalizeFirstLetter:()=>fe,changeLanguage:()=>Vt.D,checkEmptyObject:()=>B,checkMiniUnrepliedGuide:()=>he,cnDomainHash:()=>wt.H9,compareSameDayOfTimestamp:()=>re,customizeTime:()=>Z,debounce:()=>Re,defaultLocalInMall:()=>Y,detectTextAndTimestamp:()=>Qt,domainHash:()=>wt.Yc,domainPrefix:()=>wt.pM,domainSuffix:()=>wt.JS,envPrefix:()=>wt.ef,escapeRegex:()=>xt,fillMessagePreview:()=>Lt,formatMessageTime:()=>te,formatTransifyKeyWithNumber:()=>Te,getApiServer:()=>wt.Vm,getCDNUrl:()=>wt.jz,getChatBotParams:()=>Gt,getCrmPreviewParams:()=>yt,getCurrentTimestampString:()=>Ft,getCustomMessageText:()=>gt,getFileServer:()=>wt.Jy,getFormattedTime:()=>ee,getHasSameSourceAndTarget:()=>Nt,getItem:()=>Ne,getLocaleText:()=>At,getMallUrl:()=>wt.u7,getMallUrlIgnoreCn:()=>wt.Tb,getMessageIsSend:()=>Yt,getRRMessageTitle:()=>bt,getRuntimeLocale:()=>wt.CE,getRuntimeRegion:()=>wt.X7,getRuntimeServer:()=>wt.IE,getRuntimeVersion:()=>wt.L6,getSCApiServer:()=>wt.E3,getSellerCenterUrl:()=>wt.qk,getSellerServiceUrl:()=>wt.$S,getServiceLocale:()=>Me,getSystemMessageByLocale:()=>Dt,getTranslatedText:()=>jt,getTranslationLocale:()=>ge,getUrlParam:()=>de,getVideoServer:()=>wt.dV,getWebChatPureUrl:()=>wt.YH,getWebChatUrl:()=>wt.xC,greaterThan:()=>j,handleDisplayTranslation:()=>Ut,hasTargetMessageOption:()=>Ct,init:()=>wt.S1,isDeletedMessage:()=>It,isVisitingCNSC:()=>wt.z$,isVisitingCn:()=>wt.NJ,isVisitingKRSC:()=>wt.Y8,localeInMallToTspLocale:()=>x,newFormatMessageTime:()=>ne,persistLimit:()=>De,previewMessage:()=>ht,removeItem:()=>ye,setItem:()=>Ge,simpleEqualCheck:()=>Q,throttle:()=>Pe,unifyLocale:()=>me,updateTimeLocale:()=>K});var e,t={MSG_TYPE_TEXT:"text",MSG_TYPE_IMAGE:"image",MSG_TYPE_OFFER:"offer",MSG_TYPE_PRODUCT:"product",MSG_TYPE_ORDER:"order",MSG_TYPE_STICKER:"sticker",MSG_TYPE_NOTIFICATION:"notification",MSG_TYPE_VOUCHER:"voucher",MSG_TYPE_ITEM_LIST:"item_list",MSG_TYPE_SHOPPING_CART:"shopping_cart",MSG_TYPE_FAQ:"faq",MSG_TYPE_FAQ_QUESTION:"faq_question",MSG_TYPE_FAQ_FEEDBACK:"faq_feedback",MSG_TYPE_FAQ_LIVEAGENT:"faq_liveagent",MSG_TYPE_FAQ_UNSUPPORTED:"faq_unsupported",MSG_TYPE_FAQ_FEEDBACK_PROMPT:"faq_feedback_prompt",MSG_TYPE_FAQ_LIVEAGENT_PROMPT:"faq_liveagent_prompt",MSG_TYPE_UNTATED_ORDER_REMINDER:"unrated_order_reminder",MSG_TYPE_FLASH_SALE:"flash_sale",MSG_TYPE_BUNDLE_DEAL:"bundle_deal",MSG_TYPE_BUNDLE_MESSAGE:"bundle_message",MSG_TYPE_OPTION_PACK:"option_pack",MSG_TYPE_SELECTED_OPTION:"selected_option",MSG_TYPE_ADD_ON_DEAL:"add_on_deal",MSG_TYPE_VIDEO:"video",MSG_TYPE_IMAGE_WITH_TEXT:"image_with_text",MSG_TYPE_RATE_CARD:"rating_card",MSG_TYPE_NEW_FAQ:"new_faq",MSG_TYPE_FAQ_CATEGORY_CHOICE:"faq_category_choice",MSG_TYPE_FAQ_QUESTION_LIST:"faq_question_list",MSG_TYPE_FAQ_TYPE_CHOICE:"faq_type_choice",MSG_TYPE_FAQ_CATEGORY_LIST:"faq_category_list",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:"faq_bot_request_text",MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:"faq_bot_request_order",FAQ_TYPE_BOT_RESPONSE_MESSAGE:"faq_bot_response",MSG_TYPE_SECURITY_TIPS:"security_tips",MSG_TYPE_CRM_ITEM_LIST:"crm_item_list",MSG_TYPE_RR:"return_refund_card",MSG_TYPE_CRM_ORDER_RATE:"crm_order_rate"},r={SENDING:1,FAILED:2,SUCCEED:3},a={FORBIDDEN:28,LIMITING:29,CUSTOM_ERROR:42,BLACKLIST:43,CANCEL_ORDER:44,UNVERIFIED_PHONE_NUMBER:45,EXCEED_DAILY_LIMIT:26,UNTRUSTED_NETWORK:46,NEED_CAPTCHA:47,DFP_ERROR:48,SPAMMER:49,FAQ_EXPIRED:50,FAQ_SESSION_OLD:51,NEED_CAPTCHA_VERIFY:52,DEFAULT:-1},n=9,_={ALL:-1,PERSONAL:1,TEAM:2};!function(e){e[e.MSG_OPT_NORMAL=0]="MSG_OPT_NORMAL",e[e.MSG_OPT_AUTO_REPLY=1]="MSG_OPT_AUTO_REPLY",e[e.MSG_OPT_BLOCKED=2]="MSG_OPT_BLOCKED",e[e.MSG_OPT_CENSORED_BLACKLIST=16]="MSG_OPT_CENSORED_BLACKLIST",e[e.MSG_OPT_CENSORED_WHITELIST=32]="MSG_OPT_CENSORED_WHITELIST",e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER=64]="MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER=128]="MSG_OPT_IGNORE_UNREAD_FOR_SENDER",e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER=256]="MSG_OPT_INVISIBLE_FOR_RECEIVER",e[e.MSG_OPT_INVISIBLE_FOR_SENDER=512]="MSG_OPT_INVISIBLE_FOR_SENDER",e[e.MSG_OPT_ADS=1024]="MSG_OPT_ADS",e[e.MSG_OPT_FAQ_SESSION=2048]="MSG_OPT_FAQ_SESSION",e[e.MSG_OPT_TRIGGER_FAQ=4096]="MSG_OPT_TRIGGER_FAQ",e[e.MSG_OPT_SOCIAL_MESSAGE=8192]="MSG_OPT_SOCIAL_MESSAGE",e[e.MSG_OPT_OFFWORK_AUTOREPLY=16384]="MSG_OPT_OFFWORK_AUTOREPLY",e[e.MSG_OPT_CANCELORDER_WARNING_SENT=32768]="MSG_OPT_CANCELORDER_WARNING_SENT",e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT=65536]="MSG_OPT_CANCELORDER_WARNING_RETRACT",e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND=66496]="MSG_OPT_CANCELORDER_WARNING_NOT_SEND",e[e.MSG_OPT_CHATBOT_SESSION=131072]="MSG_OPT_CHATBOT_SESSION",e[e.MSG_OPT_TRIGGER_CHATBOT=262144]="MSG_OPT_TRIGGER_CHATBOT",e[e.MSG_OPT_PRIVATE_MESSAGE=524288]="MSG_OPT_PRIVATE_MESSAGE",e[e.MSG_OPT_SILENT_FOR_SENDER=1048576]="MSG_OPT_SILENT_FOR_SENDER",e[e.MSG_OPT_DELETE=2097152]="MSG_OPT_DELETE",e[e.MSG_OPT_RECALL=8388608]="MSG_OPT_RECALL"}(e||(e={}));var c,s,l=88;function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t);if("object"!==E(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.Submit=1]="Submit",e[e.Refund=2]="Refund",e[e.Reject=3]="Reject"}(c||(c={})),function(e){e[e.ReturnAndRefund=0]="ReturnAndRefund",e[e.Return=1]="Return"}(s||(s={}));var S,p={NORMAL:"normal",PENDING:"pending",SUCCEED:"succeed",FAILED:"failed"},f=d(d({},p),{},{INIT_PENDING:"pendingInit",INIT_FAILED:"failedInit",TEMPORY_ERROR:"temporyError"}),O=d(d({},p),{},{BLACKLIST_ERROR:"blacklistError",INTERNAL_SERVER_ERROR:"internalServerError"}),m={ENABLED:"enabled",DISABLED:"disabled",NO_PERSSION:"no_permission"},g={SUCCEED:"succeed",FAILED:"failed",HISTORY:"history",SHOW:"show",PENDING:"pending"},v={PENDING:"pending",ACCEPTED:"accepted",REJECTED:"rejected",CANCELLED:"cancelled"},M={CONNECT:"connect",CONNECT_ERROR:"connect_error",DISCONNECT:"disconnect",RECONNECT_ATTEMPT:"reconnect_attempt",RECONNECT_ERROR:"reconnect_error",RECONNECTING:"reconnecting",RECONNECT:"reconnect"};!function(e){e[e.Normal=0]="Normal",e[e.Agent=1]="Agent"}(S||(S={}));var R,P={SYNC:4},h={SEND:7},C={PRELOAD:1},I={MAIN_SUBACCOUNT:"main_subaccount",ADMIN_SUBACCOUNT:"admin_subaccount",NORMAL_SUBACCOUNT:"normal_subaccount"},A={SELLER:"seller",SUBACCOUNT:"subaccount"},N={CLICK:"click",IMPRESSION:"impression",ACTION_DRAG_VIDEO:"action_drag_video",DELETE_PREVIEW_MEDIA:"delete_preview_media",CLOSE_PREVIEW_MEDIA:"close_preview_media",VIEW:"view",ACTION_SELECT:"action_select",ACTION_SEARCH:"action_search"};!function(e){e.LandingPage="SIPDirectChatFromChatLandingPage",e.ProductPage="SIPProductPage",e.OrderPage="SIPOrderPageFromBuyer",e.ShopPage="SIPShopPage"}(R||(R={}));var G,y={error:"error",success:"success",normal:"normal",warn:"warn",info:"info"},D={pending:y.warn,error:y.error,resolved:y.success};!function(e){e[e.Login=0]="Login",e[e.Redirection=1]="Redirection",e[e.Messages=2]="Messages",e[e.Conversations=3]="Conversations"}(G||(G={}));var L,b,w,Y={sg:"en",ph:"en",tw:"zhHant",id:"id",th:"th",vn:"vi",my:"en",br:"pt-BR",mx:"es-MX",cl:"es-CL",pl:"pl",co:"es-CO"},x={en:"en",zhHans:"zh-Hans","ms-my":"ms-MY",zhHant:"zh-Hant",id:"id",th:"th",vi:"vi","pt-BR":"pt-BR","es-MX":"es-MX","es-CL":"es-CL","es-CO":"es-CO","es-AR":"es-AR",pl:"pl",fr:"fr","es-ES":"es-ES",fil:"fil"},F={USERID:"__chat_userid__",LAST_ACTIVE:"last-active-time",MINI_ALERT:"mini-should-show-alert",MINI_TEXT_BOX_HEIGHT:"mini-text-box-height"},U={ACK:"ack",TAB_FOCUSED:"tabFocused",CALC_CONNECTIONS:"calcConnections",CLOSE_CONNECTION:"closeConnection",SHARE_API_DATA:"shareApiData"},k={UNREAD:"unread",UPDATE_SETTING:"updateSetting"},H=199999,B=e=>!e||0===Object.keys(e).length,Q=(e,t)=>JSON.stringify(e)===JSON.stringify(t),j=(e,t)=>{if(!e)return!1;if(!t)return!0;var r=(e+="").length,a=(t+="").length;if(r!==a)return r>a;var n=e.split(""),o=null;return n.forEach(((e,r)=>{"boolean"!=typeof o&&(o=parseInt(e)>parseInt(t[r])||parseInt(e)===parseInt(t[r])&&null)})),!!o},V=o(602),q=o.n(V),W=o(95).t,z=new(q()),K=e=>z.locale.set(e),X=e=>e.format("hh:mm");!function(e){e.Today="today",e.Yesterday="yesterday"}(L||(L={})),function(e){e[e.Time=0]="Time"}(b||(b={})),function(e){e[e.sunday=0]="sunday",e[e.monday=1]="monday",e[e.tuesday=2]="tuesday",e[e.wednesday=3]="wednesday",e[e.thursday=4]="thursday",e[e.friday=5]="friday",e[e.saturday=6]="saturday"}(w||(w={}));var J,$=e=>{var{value:t,date:r,suffix:a,prefix:n}=e,o="",i="";if(n&&(o=W("conversation_detail.message_list.".concat(n.type))+(void 0===n.separator?"  ":n.separator)),a){var _=a.type===b.Time?X(r):"";i=(void 0===a.separator?", ":a.separator)+_}return o+t+i};!function(e){e[e.Yesterday=0]="Yesterday",e[e.Today=1]="Today",e[e.ThisMonth=2]="ThisMonth",e[e.ThisYear=3]="ThisYear",e[e.ThisWeek=4]="ThisWeek",e[e.NONE=5]="NONE"}(J||(J={}));var Z=(e,t)=>{var{noTodayFlag:r,noTimeFlag:a,needFullFormat:n,onlyKeepDate:o,isConvPreview:i}=t||{},_=z.create(e);if(n)return $({value:_.format("LHD"),date:_,suffix:{type:b.Time}});if(o)return _.format("LHD");var c=["tw","cn"].includes(z.locale.current),s=((e,t)=>{var r=new Date,a=new Date(e);if(t){var n=r-a,o=(new Date).setHours(0,0,0,0);if(n<=6048e5&&n>=r.getTime()-o+864e5)return J.ThisWeek}if(r.getFullYear()===a.getFullYear()){if(r.getMonth()===a.getMonth()){var i=r.getDate(),_=a.getDate();return i===_?J.Today:i-1===_?J.Yesterday:J.ThisMonth}return J.ThisYear}return J.NONE})(e,i);switch(s){case J.Today:var l=r?void 0:{type:L.Today},E={type:b.Time,separator:""};return $({value:"",date:_,prefix:l,suffix:E});case J.Yesterday:var u={type:L.Yesterday},T=a?void 0:{type:b.Time,separator:""};return $({value:"",date:_,prefix:u,suffix:T});case J.ThisWeek:return W("common.".concat(w[new Date(e).getDay()]));case J.ThisMonth:case J.ThisYear:var d=a?void 0:{type:b.Time};return $({value:_.format(i?c?"MM/DD":"DD/MM":"LHDS"),date:_,suffix:d});default:var S=a?void 0:{type:b.Time};return $({value:_.format(i?c?"YY/MM/DD":"DD/MM/YY":"LHD"),date:_,suffix:S})}},ee=(e,t="")=>z.create(e).format(t||"YYYY-MM-DD hh:mm"),te=e=>{var{created_at:t,created_timestamp:r}=e;return Z(t||1e3*r,{noTodayFlag:!0,noTimeFlag:!0,isConvPreview:!0})},re=(e,t)=>z.create(e).format("LHD")===z.create(t).format("LHD"),ae={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},ne=(e,t)=>{var r=1e3*e;switch(t){case"time":var a=z.create(r);return X(a);case"date":var n=new Date,o=new Date(r);if(n.getFullYear()===o.getFullYear()){if(n.getMonth()===o.getMonth()){var i=n.getDate(),_=o.getDate();if(i===_)return W("conversation_detail.message_list.today");if(i-1===_)return W("conversation_detail.message_list.yesterday");if(i-_<7){var c=o.getDay();return W("common.".concat(ae[c]))}return z.create(r).format("LHDS")}return z.create(r).format("LHDS")}return z.create(r).format("LHD")}},oe=o(661),ie=o.n(oe),_e=e=>0===e||1===e?"one":e>=1e6?"many":"other",ce=e=>1===e?"one":Number.isInteger(e)?[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?"few":![2,3,4].includes(e%10)||[12,13,14].includes(e%100)?"many":"other":"other",se=e=>e<=1?"one":"other",le={fr:_e,pl:ce,default:se},Ee={fr:(e,t)=>"".concat(_e(e),".").concat(_e(t)),pl:(e,t)=>"".concat(ce(e),".").concat(ce(t)),default:(e,t)=>"".concat(se(e),"_").concat(se(t))},ue=["fr","pl"],Te=(e,t,r)=>{var a=ie().language||"en",n=ue.includes(a)?a:"default";return void 0!==r?"".concat(e,"_").concat(Ee[n](t,r)):"".concat(e,"_").concat(le[n](t))},de=(e,t)=>{var r=t||window.location.search,a=null;if(r){var n=r.indexOf("?")+1,o=new RegExp("(^|&)"+e+"=([^&]*)(&|$)");a=r.substr(n).match(o)}return a?unescape(a[2]):null},Se=["hans","hant"],pe=["en","zh-hans","zh-hant","ms-my","th-th","vi-vn","id-id","zh-cn","pt-br","hi","es-mx","es-co","es-cl","es-es","es-ar","pl","fr","fil"],fe=e=>"".concat(e[0].toUpperCase()).concat(e.substring(1)),Oe=e=>{if(e.includes("-")){var t=e.split("-");return Se.includes(t[1])?"".concat(t[0],"-").concat(fe(t[1])):"".concat(t[0],"-").concat(t[1].toUpperCase())}return e},me=e=>{var t=(e||"en").toLowerCase(),r="en";for(var a of pe)if(a.includes(t)){r=Oe(a);break}return r},ge=e=>{var t=me(e);switch(t){case"th-TH":return"th";case"vi-VN":return"vi";case"id-ID":return"id";default:return t}},ve={en:"default","ms-MY":"ms-my","th-TH":"th",th:"th","zh-Hans":"tw","zh-Hant":"tw","vi-VN":"vn",vi:"vn","id-ID":"id",id:"id","zh-CN":"cn","pt-BR":"pt-br",hi:"hi","es-MX":"es-mx","es-CO":"es-co","es-CL":"es-cl",pl:"pl","es-ES":"es-es",fr:"fr","es-AR":"es-ar",fil:"fil"},Me=e=>{var t=me(e);return ve[t]||"default"},Re=(e,t=200,r=1e3)=>{var a,n=Date.now();return(...o)=>{a&&(clearTimeout(a),a=null),Date.now()-n>r?(e(...o),n=Date.now()):a=window.setTimeout((()=>{e(...o),n=Date.now()}),t)}},Pe=function(e,t,r={}){var a,n,o,i=null,_=0,c=function(){_=!1===r.leading?0:(new Date).getTime(),i=null,o=e.apply(a,n),i||(a=n=null)};return function(...s){var l=(new Date).getTime();_||!1!==r.leading||(_=l);var E=t-(l-_);return a=this,n=s,E<=0||E>t?(i&&(clearTimeout(i),i=null),_=l,o=e.apply(a,n),i||(a=n=null)):i||!1===r.trailing||(i=window.setTimeout(c,E)),o}},he=e=>((e,t)=>{var{superType:r,secondaryType:a}=t,n=e.find((e=>e.name===r));if(n){var o=n.children;return o.length&&o.find((e=>e.name===a))||!1}return!1})(e,{superType:"MiniChat-Unreplied-Filter",secondaryType:"modal"}),Ce=o(349),Ie=o.n(Ce),Ae={getItem:(e,t)=>{try{var r=window.localStorage.getItem(e);return null==r?r:t?JSON.parse(r):r}catch(e){console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))}},setItem:(e,t,r)=>{try{var a=r?JSON.stringify(t):t;window.localStorage.setItem(e,a)}catch(e){console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch(e){console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))}}},Ne=(e,t=!1)=>t?Ae.getItem(e):Ie().getItem(e),Ge=(e,t)=>Ie().setItem(e,t),ye=(e,t)=>t?Ae.removeItem(e):Ie().removeItem(e),De=Ie().supports(Ie().INDEXEDDB)||Ie().supports(Ie().WEBSQL)?1e3:100,Le=o(95).t;function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function we(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var{MSG_TYPE_TEXT:Ye,MSG_TYPE_IMAGE:xe,MSG_TYPE_OFFER:Fe,MSG_TYPE_PRODUCT:Ue,MSG_TYPE_ORDER:ke,MSG_TYPE_STICKER:He,MSG_TYPE_NOTIFICATION:Be,MSG_TYPE_VOUCHER:Qe,MSG_TYPE_ITEM_LIST:je,MSG_TYPE_FAQ:Ve,MSG_TYPE_FAQ_QUESTION:qe,MSG_TYPE_FAQ_LIVEAGENT:We,MSG_TYPE_FAQ_FEEDBACK:ze,MSG_TYPE_FAQ_UNSUPPORTED:Ke,MSG_TYPE_FAQ_FEEDBACK_PROMPT:Xe,MSG_TYPE_FAQ_LIVEAGENT_PROMPT:Je,MSG_TYPE_BUNDLE_MESSAGE:$e,MSG_TYPE_OPTION_PACK:Ze,MSG_TYPE_SELECTED_OPTION:et,MSG_TYPE_VIDEO:tt,MSG_TYPE_IMAGE_WITH_TEXT:rt,MSG_TYPE_RATE_CARD:at,MSG_TYPE_NEW_FAQ:nt,MSG_TYPE_FAQ_CATEGORY_CHOICE:ot,MSG_TYPE_FAQ_QUESTION_LIST:it,MSG_TYPE_FAQ_TYPE_CHOICE:_t,MSG_TYPE_FAQ_CATEGORY_LIST:ct,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE:st,MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE:lt,FAQ_TYPE_BOT_RESPONSE_MESSAGE:Et,MSG_TYPE_SHOPPING_CART:ut,MSG_TYPE_CRM_ITEM_LIST:Tt,MSG_TYPE_RR:dt,MSG_TYPE_CRM_ORDER_RATE:St}=t,{PENDING:pt,REJECTED:ft}=v,Ot="common.unsupported_message",mt={[We]:"faq.live_agent",[Ke]:"faq.new_unsupport_input",[Xe]:"faq.feedback_prompt",[Je]:"faq.new_live_agent_prompt",[tt]:"conversation_detail.input_field.toolbar.video.tip",[rt]:"conversation_list.conversation_cell.new_image_message"},gt=e=>Le(mt[e]||Ot),vt=[je],Mt=[tt,Ke,Xe,Je,rt],Rt=[xe,$e,lt,Fe,Ue,ke,Qe,at,He],Pt=[it,_t,ct],ht=({message:t,enableTranslation:r,locale:a,conversationShopId:n,currentSellerAccountId:o})=>{if(!t)return{text:Le(Ot)};var{type:i,content:_={},crm_message_preview:c={},message_option:s,source:l,send_status:E,custom_preview_text:u}=t,T=ge(a);if(c.text)return{text:jt(c,T)};if(null!=_&&_.preview_text&&i===Et)return{text:_.preview_text};if(Ct(s,e.MSG_OPT_CENSORED_BLACKLIST))return{text:Le("common.blacklist.replaced_text")};if(i){var d,S,{text:p="",title:f,opening:O,caption:m,translation:g,product_name:v,sticker_name:M,chat_product_infos:R=[],products:P=[],rr_detail:h,user_id:C}=_||{},I=Yt(t,{isAgent:!1,shop_id:n}),A=((e,t,r,a)=>{var n,{live_agent_text:o=[],fixed_title:i,faq_type_choice_translation:_}=t||{};if(Mt.includes(e))n=o.length?At(o,r):gt(e);else if(Pt.includes(e))n=At(e===_t?_:i,r);else{var c=Rt.includes(e)?"conversation_list.conversation_cell.new_".concat(e,"_message"):vt.includes(e)?"common.tips.recommended".concat(a?"":"_for_you"):"";n=c?"[".concat(Le(c),"]"):Le(Ot)}return n})(i,_,a,I);switch(i){case nt:case Ve:S=O||Le("faq.no_set.chat_bot_title");break;case Ye:if(I)S=p;else{var N=Nt(_);S=!r||N||s===e.MSG_OPT_SOCIAL_MESSAGE||["crm","proactive_update"].includes(l)||2===E?p:(null==g?void 0:g.text)||p}break;case We:case qe:case ze:case et:case Ze:case ot:case st:S=p||f;break;case tt:S="[".concat(A,"]");break;case rt:S="[".concat(A,"] ").concat(m||f||p);break;case Ke:case Xe:case Je:case it:case _t:case ct:S=A;break;case Ue:S="".concat(A," ").concat(v);break;case He:S=M?"[".concat(M,"]"):A;break;case je:var G=R.map((e=>e.name)).join("; ");S="".concat(A," ").concat(G);break;case Be:var{notification_for_sender:y,notification_for_receiver:D,notifications_for_sender_hyperlink:L,notifications_for_receiver_hyperlink:b}=Dt(_||{},a);S="rr_entrance"===_.notification_type?I?L:b:I?y:D;break;case at:S="".concat(A," ").concat(Le(I?"conversation_list.preview.rate_card_sender":"rate_card.rate_out_service"));break;case Fe:var{status:w,products_count:Y,offer_price:x}=_||{};if(w)if(w===pt){var F=Le("conversation_list.preview.offer_pending_".concat(I?"sender":"receiver"));S="".concat(A," ").concat(F,": ").concat(x," x ").concat(Y),I||(d=!0)}else{var U=w===ft?"declined":w;S="".concat(A," ").concat(Le("conversation_detail.workstation.offer_panel.".concat(U)))}else S=A;break;case ke:S="".concat(A," ").concat(P.map((e=>e.title)).join("; "));break;case Qe:var{type:k,rule_text:H,discount_text:B}=_||{};if(k){var Q="[".concat(Le("conversation_detail.workstation.voucher_panel.".concat(k,"_voucher")),"]");S="".concat(Q," ").concat(B,", ").concat(H)}else S=A;break;case ut:S=Le("message.cart_reminder");break;case Tt:var j,V,q,W=null!==(j=null==_?void 0:_.title)&&void 0!==j?j:{};S=(null===(V=W.translated_with_lang)||void 0===V||null===(q=V.find((e=>e.language===ge(a))))||void 0===q?void 0:q.text)||W.text||Le(Ot);break;case dt:var{solution:z,status:K}=h,X=bt({isBuyer:o===C,solution:z,status:K});S="[".concat(Le("label.return_and_refund"),"]").concat(X);break;case St:var J,$;S=(null==u||null===(J=u.translated_text)||void 0===J||null===($=J.find((e=>e.translated_language===ge(a))))||void 0===$?void 0:$.translated_text)||(null==u?void 0:u.text)||Le(Ot),S=jt(u,T)||Le(Ot);break;default:S=A}return{text:S,isPendingReceivedOffer:d}}return{text:Le(Ot)}},Ct=(e,t)=>(e&t)===t,It=(t={})=>Ct(t.message_option,e.MSG_OPT_DELETE),At=(e=[],t)=>(e.find((e=>ge(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())))||e.find((e=>"en"===e.lang))||{}).text,Nt=e=>{var{translation:t,mid:r={}}=e||{};if(!t)return!0;var{source_language:a=""}=r,{final:n,mid:o,target_language:i="",source_language:_=""}=t||{},c=n?n.target_language:i,s=n?n.source_language:_,l=o?o.source_language:a;return l?l===c:s===c&&"unknown"!==s},Gt=(e,t={})=>{var{updateMaxGeneralOptionHideTime:r=!0,updateMessageOption:a=!0}=t,{created_timestamp:n,message_option:o}=e||{},i=a?{last_message_option:o}:{};return we(we({},r?{max_general_option_hide_time:n}:{}),i)},yt=e=>{var{crm_message_preview:t={}}=e;return t.text?{crm_message_preview:t}:{crm_message_preview:{}}},Dt=(e,t)=>{var{noti_text_of_all_languages:r=[]}=e;if(!r.length)return e;var a=r.find((e=>ge(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())));if(a)return a;var n=r.find((e=>"en"===e.language));return n||e},Lt=e=>{var{type:t,textContent:r,content:a}=e,n={};switch(t){case ke:var{products:o}=r||{};n={products:o};break;case Qe:var{rule_text:i,discount_text:_,type:c}=r||{};n={rule_text:i,discount_text:_,type:c};break;case Fe:var{status:s,products_count:l,offer_price:E}=r||{};n={status:s,products_count:l,offer_price:E};break;case Ue:n={product_name:a.product_name||(null==r?void 0:r.name)}}return we(we({},e),{},{content:we(we({},a),n)})},bt=({isBuyer:e,status:t,solution:r})=>{var a=r===s.Return?"return":"return_refund",n=t===c.Submit?"proposed":t===c.Refund?"succeed":"rejected";return Le("rr_message_title.".concat(e?"buyer":"seller",".").concat(a,".").concat(n))},wt=o(480),Yt=(e={},t={})=>{var{isAgent:r,to_tob_user_id:a,shop_id:n}=t,{from_id:o,to_shop_id:i}=e;return r?o!==a:i!==n},xt=e=>e.replace(/[.[\]{}()+?*^\\$?]/g,"\\$&"),Ft=()=>Math.ceil(Date.now()/1e3).toString(),Ut=(e,t,r,a)=>t?e:e||a&&!!r,kt=e=>{var t=document.createElement("span");return t.setAttribute("style","\n  font-size: 12px;\n  line-height: 16px;\n  margin-left: 8px\n"),t.innerText=e,t},Ht=(e,t,r)=>{var a=document.createElement("pre"),n=(e=>"".concat("\n  margin: 0;\n  box-sizing: border-box;\n  padding: 8px 10px 10px;\n  font-size: 14px;\n  line-height: 20px;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  position: fixed;\n  left: -1000;\n  right: -1000;\n","max-width: ").concat(e,"px"))(e);if(a.id="chat-text-pre",a.setAttribute("style",n),a.innerText=t,r){var o=kt(r);a.appendChild(o)}return a},Bt=(e,t="height")=>{document.body.appendChild(e);var r=e.getBoundingClientRect(),a="height"===t?r.height:r.width;return document.body.removeChild(e),a},Qt=(e,t,r)=>{var a=Ht(r,e),n=kt(t),o=Ht(r,e,t),i=Bt(a);return{conflict:i!==Bt(o),multiLine:i>38,timeWidth:Bt(n,"width"),widthConflict:Bt(o,"width")>Bt(a,"width")}},jt=(e,t)=>{var r,a,n,o;return(null==e||null===(r=e.translated_with_lang)||void 0===r||null===(a=r.find((e=>e.language===t)))||void 0===a?void 0:a.text)||(null==e||null===(n=e.translated_text)||void 0===n||null===(o=n.find((e=>e.translated_language===t)))||void 0===o?void 0:o.translated_text)||(null==e?void 0:e.text)||""},Vt=o(95)})(),i})(),e.exports=a(r(14906),r(58518),r(69483))},29494:function(e,t,r){"use strict";e.exports=r(66069)}}]);